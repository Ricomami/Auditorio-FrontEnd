<div class="container">
    <h1 class="mt-3">Editar pago</h1>
    <a [routerLink]="['/pago']">Regresar</a>
    
    <form #formulario="ngForm" (ngSubmit)="actualizarPago()" class="mt-5 needs-validation" novalidate>
        <h4 class="my-4">ID pago: {{pago.id_pago}} </h4>

        <!-- CLIENTE_ID -->
        <div class="mb-3">
            <label for="cliente_id" class="form-label">ID del cliente que realiza el pago</label>
            <input
            type="number"
            id="cliente_id"
            name="cliente_id"
            [(ngModel)]="pago.cliente_id"
            #cliente_id="ngModel"
            required
            min="1"
            class="form-control"
            [class.is-invalid]="cliente_id.invalid && cliente_id.touched"
            [class.is-valid]="cliente_id.valid && cliente_id.touched"
            />
            <div *ngIf="cliente_id.invalid && cliente_id.touched" class="invalid-feedback">
        Ingrese una id de cliente v√°lido.
      </div>
    </div>

    <!-- METODO_PAGO -->
    <div class="mb-3">
      <label for="metodo_pago" class="form-label">Metodo de Pago</label>
      <input
        type="text"
        id="metodo_pago"
        name="metodo_pago"
        [(ngModel)]="pago.metodo_pago"
        #metodo_pago="ngModel"
        required
        minlength="3"
        class="form-control"
        [class.is-invalid]="metodo_pago.invalid && metodo_pago.touched"
        [class.is-valid]="metodo_pago.valid && metodo_pago.touched"
      />
      <div *ngIf="metodo_pago.invalid && metodo_pago.touched" class="invalid-feedback">
        Por favor, ingresa el m√©todo de pago correcto.
      </div>
    </div>


    <!-- MONTO -->
    <div class="mb-3">
      <label for="monto" class="form-label">Monto del pago</label>
      <input
        type="number"
        id="monto"
        name="monto"
        [(ngModel)]="pago.monto"
        #monto="ngModel"
        required
        min="30"
        class="form-control"
        [class.is-invalid]="monto.invalid && monto.touched"
        [class.is-valid]="monto.valid && monto.touched"
      />
      <div *ngIf="monto.invalid && monto.touched" class="invalid-feedback">
        Ingrese una monto v√°lido (m√≠nimo 30).
      </div>
    </div>

    <!-- FECHA DE PAGO -->
    <div class="mb-3">
      <label for="fecha_pago" class="form-label">Fecha del pago</label>
      <input
        type="date"
        id="fecha_pago"
        name="fecha_pago"
        [(ngModel)]="pago.fecha_pago"
        #fecha_pago="ngModel"
        class="form-control"
        [class.is-invalid]="fecha_pago.invalid && fecha_pago.touched"
        [class.is-valid]="fecha_pago.valid && fecha_pago.touched"
      />
      <div *ngIf="fecha_pago.invalid && fecha_pago.touched" class="invalid-feedback">
        Ingrese una fecha de pago v√°lida
      </div>
    </div>

    <!-- ESTADO -->
    <div class="mb-3">
      <label for="estado" class="form-label">Estado</label>
      <select
        id="estado"
        name="estado"
        [(ngModel)]="pago.estado"
        #estado="ngModel"
        required
        class="form-select"
        [class.is-invalid]="estado.invalid && estado.touched"
        [class.is-valid]="estado.valid && estado.touched"
      >
        <option value="" disabled selected>Seleccione un estado</option>
        <option value="Activo">Activo</option>
        <option value="Inactivo">Inactivo</option>
        <option value="Pendiente">Pendiente</option>
        <option value="Suspendido">Suspendido</option>
        <option value="Archivado">Archivado</option>
      </select>
      <div *ngIf="estado.invalid && estado.touched" class="invalid-feedback">
        Seleccione un estado v√°lido.
      </div>
    </div>

    <!-- BOT√ìN DE ENV√çO -->
    <button type="submit" class="btn btn-success w-100" [disabled]="formulario.invalid">
      Actualizar Pago
    </button>

    <!-- ALERTA DE √âXITO -->
    <div *ngIf="mensajeExito" class="alert alert-success mt-4" role="alert">
      üéâ {{ mensajeExito }}
    </div>

    <!-- ALERTA DE ERROR -->
    <div *ngIf="mensajeError" class="alert alert-danger mt-4" role="alert">
      ‚ö†Ô∏è {{ mensajeError }}
    </div>

    </form>
</div>