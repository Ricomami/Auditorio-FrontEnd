<div class="container">
  <h1 class="mt-3">Crear auditorio nuevo</h1>
  <a [routerLink]="['/auditorio']">Regresar</a>

  <form #formulario="ngForm" (ngSubmit)="CrearAuditorio()" class="mt-5 needs-validation" novalidate>

    <!-- NOMBRE -->
    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre del Auditorio</label>
      <input
        type="text"
        id="nombre"
        name="nombre"
        [(ngModel)]="auditorio.nombre"
        #nombre="ngModel"
        required
        minlength="3"
        class="form-control"
        [class.is-invalid]="nombre.invalid && nombre.touched"
        [class.is-valid]="nombre.valid && nombre.touched"
      />
      <div *ngIf="nombre.invalid && nombre.touched" class="invalid-feedback">
        El nombre es obligatorio y debe tener al menos 3 caracteres.
      </div>
    </div>

    <!-- CAPACIDAD -->
    <div class="mb-3">
      <label for="capacidad" class="form-label">Capacidad del auditorio</label>
      <input
        type="number"
        id="capacidad"
        name="capacidad"
        [(ngModel)]="auditorio.capacidad"
        #capacidad="ngModel"
        required
        min="10"
        class="form-control"
        [class.is-invalid]="capacidad.invalid && capacidad.touched"
        [class.is-valid]="capacidad.valid && capacidad.touched"
      />
      <div *ngIf="capacidad.invalid && capacidad.touched" class="invalid-feedback">
        Ingrese una capacidad v치lida (m칤nimo 10).
      </div>
    </div>

    <!-- DIRECCI칍N -->
    <div class="mb-3">
      <label for="direccion" class="form-label">Direcci칩n del auditorio</label>
      <input
        type="text"
        id="direccion"
        name="direccion"
        [(ngModel)]="auditorio.direccion"
        #direccion="ngModel"
        class="form-control"
        [class.is-invalid]="direccion.invalid && direccion.touched"
        [class.is-valid]="direccion.valid && direccion.touched"
      />
      <div *ngIf="direccion.invalid && direccion.touched" class="invalid-feedback">
        La direcci칩n es obligatoria.
      </div>
    </div>

    <!-- IMAGEN -->
    <div class="mb-3">
      <label for="imagen" class="form-label">URL</label>
      <input
        type="text"
        id="imagen"
        name="imagen"
        [(ngModel)]="auditorio.imagen"
        #imagen="ngModel"
        pattern="https?://.+"
        class="form-control"
        [class.is-invalid]="imagen.invalid && imagen.touched"
        [class.is-valid]="imagen.valid && imagen.touched"
      />
      <div *ngIf="imagen.invalid && imagen.touched" class="invalid-feedback">
        Ingrese una imagen valida.
      </div>
    </div>

    <!-- ESTADO -->
    <div class="mb-3">
      <label for="estado" class="form-label">Estado</label>
      <select
        id="estado"
        name="estado"
        [(ngModel)]="auditorio.estado"
        #estado="ngModel"
        required
        class="form-select"
        [class.is-invalid]="estado.invalid && estado.touched"
        [class.is-valid]="estado.valid && estado.touched"
      >
        <option value="" disabled selected>Seleccione un estado</option>
        <option value="1">Activo</option>
        <option value="2">Inactivo</option>
        <option value="3">Mantenimiento</option>
      </select>
      <div *ngIf="estado.invalid && estado.touched" class="invalid-feedback">
        Seleccione un estado v치lido.
      </div>
    </div>

    <!-- BOT칍N DE ENV칈O -->
    <button type="submit" class="btn btn-primary w-100" [disabled]="formulario.invalid">
      Crear Auditorio
    </button>

    <!-- ALERTA DE 칄XITO -->
    <div *ngIf="mensajeExito" class="alert alert-success mt-4" role="alert">
      游꿀 {{ mensajeExito }}
    </div>

    <!-- ALERTA DE ERROR -->
    <div *ngIf="mensajeError" class="alert alert-danger mt-4" role="alert">
      丘멆잺 {{ mensajeError }}
    </div>
  </form>
</div>
