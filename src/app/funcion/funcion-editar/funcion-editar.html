<div class="container">
    <h1 class="mt-3">Actualizar funcion</h1>
    <a [routerLink]="['/funcion']" href="#">Regresar</a>

    <form #formulario="ngForm" (ngSubmit)="actualizarFuncion()" class="mt-5 needs-validation" novalidate>
            <h4 class="my-4">ID de funcion: {{funcion.id_funcion}} </h4>


        <!-- EVENTO_ID -->
        <div class="mb-3">
            <label for="evento_id" class="form-label">ID del Evento</label>
            <input
            type="number"
            id="evento_id"
            name="evento_id"
            [(ngModel)]="funcion.evento_id"
            #evento_id="ngModel"
            required
            min="1"
            class="form-control"
            [class.is-invalid]="evento_id.invalid && evento_id.touched"
            [class.is-valid]="evento_id.valid && evento_id.touched"
            />
            <div *ngIf="evento_id.invalid && evento_id.touched" class="invalid-feedback">
        Ingrese una id de cliente v√°lido.
      </div>
    </div>

    
    <!-- FECHA Y HORA DE FUNCION -->
    <div class="mb-3">
      <label for="fecha_hora_funcion" class="form-label">Fecha y hora de la funcion</label>
      <input
        type="date"
        id="fecha_hora_funcion"
        name="fecha_hora_funcion"
        [(ngModel)]="funcion.fecha_hora_funcion"
        #fecha_hora_funcion="ngModel"
        required
        class="form-control"
        [class.is-invalid]="fecha_hora_funcion.invalid && fecha_hora_funcion.touched"
        [class.is-valid]="fecha_hora_funcion.valid && fecha_hora_funcion.touched"
      />
      <div *ngIf="fecha_hora_funcion.invalid && fecha_hora_funcion.touched" class="invalid-feedback">
        La fecha del evento es obligatoria. 
      </div>
    </div>

    <!-- ESTADO -->
    <div class="mb-3">
      <label for="estado" class="form-label">Estado</label>
      <select
        id="estado"
        name="estado"
        [(ngModel)]="funcion.estado"
        #estado="ngModel"
        required
        class="form-select"
        [class.is-invalid]="estado.invalid && estado.touched"
        [class.is-valid]="estado.valid && estado.touched"
      >
        <option value="" disabled selected>Seleccione un estado</option>
        <option value="Activo">Activo</option>
        <option value="Inactivo">Inactivo</option>
        <option value="Suspendido">Suspendido</option>
        <option value="Archivado">Archivado</option>
      </select>
      <div *ngIf="estado.invalid && estado.touched" class="invalid-feedback">
        Seleccione un estado v√°lido.
      </div>
    </div>

    <!-- BOT√ìN DE ENV√çO -->
    <button type="submit" class="btn btn-success w-100" [disabled]="formulario.invalid">
      Actualizar Funcion
    </button>

    <!-- ALERTA DE √âXITO -->
    <div *ngIf="mensajeExito" class="alert alert-success mt-4" role="alert">
      üéâ {{ mensajeExito }}
    </div>

    <!-- ALERTA DE ERROR -->
    <div *ngIf="mensajeError" class="alert alert-danger mt-4" role="alert">
      ‚ö†Ô∏è {{ mensajeError }}
    </div>
    </form>
</div>